<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>拍摄资料</title>
<meta name="viewport"
	content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
<meta name="format-detection" content="telephone=no">
<!--公共样式-->
<link rel="stylesheet" href="css/common.css" />
<!--本页css-->
<link rel="stylesheet" href="css/filming.css" />
</head>
<body>
	<header>
		<div class="filming">
			<i></i> <span id="username"></span>
		</div>
	</header>
	<section>
		<ul>
			<li class="title">签约所需资料</li>
			<li><a class="linkStyle" onclick="twoinchphoto()">
					<div class="circleGreen">
						<i class="icon-true"></i>
					</div> <span>照片</span> <i class="more"></i> <span id="13" class="info"></span>
			</a></li>
			<li><a class="linkStyle" href="USPassport.html">
					<div class="circleRed">
						<i class="icon-error"></i>
					</div> <span>护照首页</span> <i class="more"></i> <span id="1" class="info">待上传</span>
			</a></li>
			<li><a class="linkStyle" href="USOldpassport.html">
					<div class="circleRed">
						<i class="icon-error"></i>
					</div> <span>旧护照</span> <i class="more"></i> <span id="2" class="info">待上传</span>
			</a></li>
			<li><a class="linkStyle" href="USISCard.html">
					<div class="circleRed">
						<i class="icon-error"></i>
					</div> <span>身份证</span> <i class="more"></i> <span id="3" class="info">待上传</span>
			</a></li>
			<li class="title">面试所需资料</li>
			<li><a class="linkStyle" href="UShousehold.html">
					<div class="circleRed">
						<i class="icon-error"></i>
					</div> <span>户口本</span> <i class="more"></i> <span id="4" class="info">待上传</span>
			</a></li>
			<li><a class="linkStyle" href="USHousecard.html">
					<div class="circleRed">
						<i class="icon-error"></i>
					</div> <span>房产证</span> <i class="more"></i> <span id="5" class="info">待上传</span>
			</a></li>
			<li class="selectArea">
				<div class="circleRed">
					<i class="icon-error"></i>
				</div> <span>婚姻状况</span> <i class="more"></i> <span
				class="info marriageInfo"></span> <select class="selector" dir="rtl">
					<option>--请选择--</option>
					<option>单身</option>
					<option>已婚</option>
					<option>离异</option>
					<option>丧偶</option>
			</select>
			</li>
			<li><a class="linkStyle" href="USBankflow.html">
					<div class="circleRed">
						<i class="icon-error"></i>
					</div> <span>银行流水</span> <i class="more"></i> <span id="7" class="info">待上传</span>
			</a></li>
			<li><a class="linkStyle" href="USJobcertificate.html">
					<div class="circleRed">
						<i class="icon-error"></i>
					</div> <span>在职证明</span> <i class="more"></i> <span id="8" class="info">待上传</span>
			</a></li>
			<li><a class="linkStyle" href="USBiness.html">
					<div class="circleRed">
						<i class="icon-error"></i>
					</div> <span>营业执照或机构代码证</span> <i class="more"></i> <span id="9" class="info">待上传</span>
			</a></li>
			<li><a class="linkStyle" href="USDriving.html">
					<div class="circleRed">
						<i class="icon-error"></i>
					</div> <span>行驶证</span> <i class="more"></i> <span id="10" class="info">待上传</span>
			</a></li>
			<li><a class="linkStyle" href="USOldsigned.html">
					<div class="circleRed">
						<i class="icon-error"></i>
					</div> <span>过期美签上传</span> <i class="more"></i> <span id="11" class="info">待上传</span>
			</a></li>
			<li><a class="linkStyle" href="USsigning.html">
					<div class="circleRed">
						<i class="icon-error"></i>
					</div> <span>美国出签上传</span> <i class="more"></i> <span id="12" class="info">待上传</span>
			</a></li>
		</ul>
	</section>
	<footer>
		<a class="next">下一步</a>
	</footer>
</body>
<script type="text/javascript" src="js/jquery-1.10.2.js"></script>
<script type="text/javascript" src="js/rem(750).js"></script>
<script>
		$(function(){
			var staffid = GetQueryString("staffid");
			//婚姻状况
			$(".selector").change(function(){
				var marriage = $(".selector").val();
				$(".marriageInfo").text(marriage);
			});
				//getUserInfo(staffid);
				
				determineUpload(staffid,13);
				determineUpload(staffid,1);
				determineUpload(staffid,2);
				determineUpload(staffid,3);
				determineUpload(staffid,4);
				determineUpload(staffid,5);
				determineUpload(staffid,6);
				determineUpload(staffid,7);
				determineUpload(staffid,10);
				determineUpload(staffid,9);
				determineUpload(staffid,8);
				determineUpload(staffid,11);
				determineUpload(staffid,12);
		})
		//跳转2寸图片
		function twoinchphoto(){
			var staffid = GetQueryString("staffid");
			window.location.href='/appmobileus/USPhoto.html?staffid='+ staffid;
		}
		
		//获取用户信息
		function getUserInfo(staffid){
			$.ajax({
				url : "/admin/mobileVisa/getBasicInfoByStaffid.html",
				data : {
					staffid : staffid,
				},
				dataType : "json",
				type : 'post',
				success : function(data) {
					$("#username").attr("value",data.firstname+data.lastname);
				}
			});
		}
		
		//获取是否上传过
		function determineUpload(staffid,type){
			$.ajax({
				url : "/admin/mobileVisa/getImageInfoBytypeAndStaffid.html",
				data : {
					type : type,
					staffid : staffid,
				},
				dataType : "json",
				type : 'post',
				success : function(data) {
					/* _self.passportdata = data.passportdata; */
					console.log(data);
						if (data != 0) {
							$('#'+data).attr("value","已上传");
						}else{
							$("#"+data).attr("value","未上传");
						}
					}
				});
		}
		
		//获取URL地址参数
		 function GetQueryString(name){
		      var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
		      var r = window.location.search.substr(1).match(reg);
		      if(r!=null)return  unescape(r[2]); return null;
		 }
	</script>
</html>
